{"version":3,"sources":["sw.js"],"names":["cacheName","cacheFiles","self","addEventListener","e","waitUntil","caches","open","then","cache","addAll","request","method","respondWith","match","r","fetch","response","put","clone","keys","keyList","Promise","all","map","key","indexOf","delete"],"mappings":";AAAA,aAEA,IAAMA,EAAN,cAAA,OAAA,gBACMC,EAAa,CAAC,cAAe,iBAEnCC,KAAKC,iBAAiB,UAAW,SAAAC,GAC7BA,EAAEC,UACEC,OAAOC,KAAKP,GAAWQ,KAAK,SAAAC,GACjBA,OAAAA,EAAMC,OAAOT,QAKhCC,KAAKC,iBAAiB,QAAS,SAAAC,GACF,QAArBA,EAAEO,QAAQC,QAGdR,EAAES,YACEP,OAAOQ,MAAMV,EAAEO,SAASH,KAAK,SAAAO,GAErBA,OAAAA,GACAC,MAAMZ,EAAEO,SAASH,KAAK,SAAAS,GACXX,OAAAA,OAAOC,KAAKP,GAAWQ,KAAK,SAAAC,GAExBQ,OADPR,EAAMS,IAAId,EAAEO,QAASM,EAASE,SACvBF,WAQ/Bf,KAAKC,iBAAiB,WAAY,SAAAC,GAC9BA,EAAEC,UACEC,OAAOc,OAAOZ,KAAK,SAAAa,GACRC,OAAAA,QAAQC,IACXF,EAAQG,IAAI,SAAAC,GACJzB,IAA4B,IAA5BA,EAAU0B,QAAQD,GACXnB,OAAAA,OAAOqB,OAAOF","file":"sw.js","sourceRoot":"../src","sourcesContent":["\"use strict\"\n\nconst cacheName = `321zeno-v1-${process.env.SW_VERSION}`\nconst cacheFiles = [\"/index.html\", \"/css/main.css\"]\n\nself.addEventListener(\"install\", e => {\n    e.waitUntil(\n        caches.open(cacheName).then(cache => {\n            return cache.addAll(cacheFiles)\n        })\n    )\n})\n\nself.addEventListener(\"fetch\", e => {\n    if (e.request.method !== \"GET\") {\n        return\n    }\n    e.respondWith(\n        caches.match(e.request).then(r => {\n            return (\n                r ||\n                fetch(e.request).then(response => {\n                    return caches.open(cacheName).then(cache => {\n                        cache.put(e.request, response.clone())\n                        return response\n                    })\n                })\n            )\n        })\n    )\n})\n\nself.addEventListener(\"activate\", e => {\n    e.waitUntil(\n        caches.keys().then(keyList => {\n            return Promise.all(\n                keyList.map(key => {\n                    if (cacheName.indexOf(key) === -1) {\n                        return caches.delete(key)\n                    }\n                })\n            )\n        })\n    )\n})\n"]}